{% load static %}
<!DOCTYPE html>
<html lang="ru">
    <style>
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .action-button {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 6px 12px;
            background-color: #f1f1f1;
            border: none;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: 0.2s;
        }
        
        .action-button:hover {
            background-color: #e0e0e0;
            transform: scale(1.03);
        }
        
        .action-button svg {
            width: 18px;
            height: 18px;
            fill: #666;
            transition: 0.2s;
        }
        
        .liked svg {
            fill: crimson;
        }
        
        .favorited svg {
            fill: goldenrod;
        }
        </style>        
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Фандом-сайт{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    </head>
    <body>
        <header>
            <h1>FANKATEJ</h1>
        <nav style="display: flex; align-items: center;">
                <a href="{% url 'profile' %}" style="display: flex; align-items: center; margin-left: auto; text-decoration: none;">
                    <img src="{{ user.avatar.url }}" alt="Аватар" width="50" height="50"
                         style="border-radius: 50%; margin-left: 10px; object-fit: cover;">
                    <span style="color:yellow; margin-left: 10px;">{{ user.username }}</span>
                </a>               
        </nav>        
    </header>

    <div style="display: flex; min-height: 100vh;">
        <!-- Sidebar -->
        <aside style="width: 250px; background: #f0f0f0; padding: 20px;">
            {% if user.is_authenticated %}
                <div style="text-align: center;">
                    <div style="position: relative;">
                        <img src="{{ user.cover.url }}" alt="Cover"
                             style="width: 100%; height: 100px; object-fit: cover; border-radius: 8px;">
                        <img src="{{ user.avatar.url }}" alt="Avatar"
                             style="width: 70px; height: 70px; border-radius: 50%; border: 3px solid white;
                             position: absolute; bottom: -20px; left: 50%; transform: translateX(-50%);">
                    </div>
                    <div style="margin-top: 40px;">
                        <a href="{% url 'user_profile' user.username %}" style="font-weight: bold;">{{ user.username }}</a>
                    </div>
                </div>
                <ul style="list-style: none; padding: 0; margin-top: 30px;">
                    <li>
                        <a href="/" style="display: flex; align-items: center; gap: 8px;">
                            <!-- Home Icon -->
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M3 9.75L12 3l9 6.75V21a.75.75 0 01-.75.75H3.75A.75.75 0 013 21V9.75z"/>
                            </svg>
                            Главная
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'create_post' %}" style="display: flex; align-items: center; gap: 8px;">
                            <!-- Plus Icon -->
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M12 4v16m8-8H4"/>
                            </svg>
                            Добавить фанфик
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'logout' %}" style="display: flex; align-items: center; gap: 8px;">
                            <!-- Logout Icon -->
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h6a2 2 0 012 2v1"/>
                            </svg>
                            Выйти
                        </a>
                    </li>
                </ul>
            {% else %}
            <ul style="list-style: none; padding: 0;">
                <li>
                    <a href="{% url 'login' %}" style="display: flex; align-items: center; gap: 8px;">
                        <!-- Login Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M15 12H3m0 0l4-4m-4 4l4 4m8-8v1a2 2 0 002 2h4"/>
                        </svg>
                        Вход
                    </a>
                </li>
                <li>
                    <a href="{% url 'register' %}" style="display: flex; align-items: center; gap: 8px;">
                        <!-- Pencil Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M15.232 5.232l3.536 3.536M9 13.5l6-6 3.536 3.536-6 6H9v-3.536z"/>
                        </svg>
                        Регистрация
                    </a>
                </li>
            </ul>            
            {% endif %}
        </aside>
    
        <!-- Main content -->
        <main style="flex: 1; padding: 20px;">
            {% if messages %}
                <ul>
                    {% for message in messages %}
                        <li>{{ message }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
            {% block content %}{% endblock %}
        </main>
    </div>
    
    <footer>
        &copy
